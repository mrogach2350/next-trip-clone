(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{196:function(e,t,n){e.exports=n(336)},201:function(e,t,n){},336:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(22),c=n.n(a),i=(n(201),n(99)),s=n(23),l=n(95),u=n(96),d=n(101),p=n(97),m=n(102),h=n(55),v=n.n(h),f=n(6),g=n(5),x={backgroundColor:"#3f51b5",color:"white",margin:0,padding:"20px"},E={header:x,root:{margin:"20px",textAlign:"center"}},S=Object(f.withStyles)(E)(function(e){var t=e.classes,n=void 0===t?{}:t,r=e.routes,a=void 0===r?[]:r,c=e.currentRoute,i=void 0===c?"":c,s=e.onSelectRoute,l=void 0===s?function(){}:s,u=e.history,d=void 0===u?{}:u,p=a.find(function(e){return e.Route===i});return o.a.createElement(g.g,{className:n.root},o.a.createElement("h1",{onClick:function(){return d.push("/")},className:n.header},"Routes"),""===i?o.a.createElement(g.e,{style:{maxHeight:"500px",overflow:"scroll"}},a.map(function(e,t){return o.a.createElement(g.f,{button:!0,onClick:function(){return l(e.Route)},selected:i===e.Route,key:t},e.Description)})):o.a.createElement("h4",{style:{padding:"15px",margin:0}},p.Description))}),D={root:{margin:0,padding:"16px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},button:{margin:"10px"},header:x,paper:{margin:"20px",textAlign:"center"}},y=Object(f.withStyles)(D)(function(e){var t=e.classes,n=void 0===t?{}:t,r=e.directions,a=void 0===r?[]:r,c=e.currentDirection,i=void 0===c?"":c,s=e.onSelectDirection,l=void 0===s?function(){}:s;return o.a.createElement(g.g,{className:n.paper},o.a.createElement("h1",{className:n.header},"Direction"),o.a.createElement("div",{className:n.root},a.map(function(e,t){return o.a.createElement(g.a,{key:t,className:n.button,variant:"contained",color:i===e.Value?"primary":"default",onClick:function(){return l(e.Value)}},e.Text)})))}),w={header:x},b=Object(f.withStyles)(w)(function(e){var t=e.stops,n=void 0===t?[]:t,r=e.classes,a=void 0===r?{}:r,c=e.onStopClicked,i=void 0===c?function(){}:c;return o.a.createElement(g.g,{style:{margin:"20px",textAlign:"center"}},o.a.createElement("h1",{className:a.header},"Stops"),o.a.createElement(g.e,{style:{maxHeight:"500px",overflow:"scroll"}},n.map(function(e,t){return o.a.createElement(g.f,{button:!0,onClick:function(){return i(e)},value:e.Value,key:t},e.Text)})))}),R={header:x,listing:{marginBottom:"10px"},content:{textAlign:"center",padding:"10px"}},k=Object(f.withStyles)(R)(function(e){var t=e.currentStopText,n=void 0===t?"":t,r=e.open,a=void 0!==r&&r,c=e.departures,i=void 0===c?[]:c,s=e.handleClose,l=e.classes,u=void 0===l?{}:l,d=e.currentRouteData,p=void 0===d?{}:d,m=e.currentDirectionData,h=void 0===m?{}:m;return o.a.createElement(g.b,{open:a,fullWidth:!0,onClose:s},o.a.createElement("div",{className:u.header},o.a.createElement("strong",null,"Route:")," ",p.Description,o.a.createElement("br",null),o.a.createElement("strong",null,"Stop:")," ",n,o.a.createElement("br",null),o.a.createElement("strong",null,"Direction:")," ",h.Text),o.a.createElement(g.c,{className:u.content},0===i.length?o.a.createElement("h4",null,"No Departures left today"):i.map(function(e){return o.a.createElement("div",{className:u.listing},o.a.createElement("span",null,e.Description),o.a.createElement("br",null),o.a.createElement("span",null,"Departs At: ",e.DepartureText))})))}),N=n(28),j=n.n(N),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return j.a.get("http://svc.metrotransit.org/NexTrip/".concat(e,"/").concat(t,"/").concat(n))},T=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).onSelectRoute=function(e){n.props.history.push("?r=".concat(e))},n.onSelectDirection=function(e){var t=n.props.history,r=n.state.currentRoute;t.push("?r=".concat(r,"&d=").concat(e))},n.onStopClicked=function(e){var t=e.Value,r=void 0===t?"":t,o=e.Text,a=void 0===o?"":o,c=n.state,i=c.currentRoute,s=c.currentDirection;C(i,s,r).then(function(e){n.setState({departures:e.data,currentStopText:a,showModal:!0})})},n.closeModal=function(){return n.setState({showModal:!1})},n.state={defaultProvider:"8",providers:[],routes:[],directions:[],stops:[],currentProvider:"8",currentRoute:"",currentDirection:"",currentStopText:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.currentProvider;j.a.get("http://svc.metrotransit.org/NexTrip/Providers?format=json").then(function(t){return e.setState({providers:t.data})}),j.a.get("http://svc.metrotransit.org/NexTrip/Routes?format=json").then(function(n){var r=n.data.filter(function(e){return e.ProviderID===t});e.setState({routes:r})})}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=v.a.parse(e.location.search),o=v.a.parse(this.props.location.search);return o.r!==r.r?o.r?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return j.a.get("http://svc.metrotransit.org/NexTrip/Directions/".concat(e,"?format=json"))}(o.r).then(function(e){var t=e.data;n.setState({currentRoute:o.r,directions:t})}):this.setState({currentRoute:"",currentDirection:"",directions:[],stops:[],departures:[],showModal:!1}):o.d!==r.d?o.d?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j.a.get("http://svc.metrotransit.org/NexTrip/Stops/".concat(e,"/").concat(t,"?format=json"))}(o.r,o.d).then(function(e){var t=e.data;n.setState({currentDirection:o.d,stops:t})}):this.setState({currentDirection:"",stops:[]}):void 0}},{key:"render",value:function(){var e=this.props,t=e.history,n=void 0===t?{}:t,r=e.classes,a=void 0===r?{}:r,c=this.state,i=c.routes,s=c.currentRoute,l=c.directions,u=c.currentDirection,d=c.stops,p=c.currentStopText,m=c.showModal,h=c.departures,v=i.find(function(e){return e.Route===s}),f=l.find(function(e){return e.Value===u});return o.a.createElement(g.d,{container:!0,className:a.root},o.a.createElement(g.d,{item:!0,xs:!1,md:1}),o.a.createElement(g.d,{item:!0,xs:12,md:5,"md-offset":1},i.length>0&&o.a.createElement(S,{history:n,routes:i,currentRoute:s,onSelectRoute:this.onSelectRoute}),l.length>0&&o.a.createElement(y,{directions:l,currentDirection:u,onSelectDirection:this.onSelectDirection})),o.a.createElement(g.d,{item:!0,xs:12,md:5},d.length>0&&o.a.createElement(b,{stops:d,onStopClicked:this.onStopClicked})),o.a.createElement(k,{open:m,currentStopText:p,departures:h,handleClose:this.closeModal,currentRouteData:v,currentDirectionData:f}))}}]),t}(o.a.PureComponent),O=Object(f.withStyles)({root:{backgroundColor:"#d3d3d3",height:"100vh"}})(T);var M=function(){return o.a.createElement(i.a,null,o.a.createElement(s.a,{path:"/",component:O}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[196,1,2]]]);
//# sourceMappingURL=main.a23d45d2.chunk.js.map