(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{197:function(e,t,n){e.exports=n(337)},202:function(e,t,n){},337:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(22),i=n.n(a),c=(n(202),n(99)),s=n(23),l=n(95),u=n(96),d=n(101),p=n(97),m=n(102),h=n(55),v=n.n(h),f=n(5),g=n(103),E=n(6),x={backgroundColor:"#3f51b5",color:"white",margin:0,padding:"20px"},D={header:Object(g.a)({},{backgroundColor:"#3f51b5",color:"white",margin:0,padding:"20px",display:"flex",justifyContent:"space-around",alignItems:"center"}),root:{margin:"20px",textAlign:"center"}},S=Object(E.withStyles)(D)(function(e){var t=e.classes,n=void 0===t?{}:t,r=e.routes,a=void 0===r?[]:r,i=e.currentRoute,c=void 0===i?"":i,s=e.onSelectRoute,l=void 0===s?function(){}:s,u=e.history,d=void 0===u?{}:u,p=a.find(function(e){return e.Route===c});return o.a.createElement(f.g,{className:n.root},o.a.createElement("div",{className:n.header},o.a.createElement("h1",{style:{margin:0}},"Routes"),o.a.createElement(f.a,{onClick:function(){return d.push("/")},variant:"contained"},"Reset")),""===c?o.a.createElement(f.e,{style:{maxHeight:"500px",overflow:"scroll"}},a.map(function(e,t){return o.a.createElement(f.f,{button:!0,onClick:function(){return l(e.Route)},selected:c===e.Route,key:t},e.Description)})):o.a.createElement("h4",{style:{padding:"15px",margin:0}},p.Description))}),y={header:x,root:{margin:0,padding:"16px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},button:{margin:"10px"},paper:{margin:"20px",textAlign:"center"}},b=Object(E.withStyles)(y)(function(e){var t=e.classes,n=void 0===t?{}:t,r=e.directions,a=void 0===r?[]:r,i=e.currentDirection,c=void 0===i?"":i,s=e.onSelectDirection,l=void 0===s?function(){}:s;e.history,e.currentRoute;return o.a.createElement(f.g,{className:n.paper},o.a.createElement("div",{className:n.header},o.a.createElement("h1",{style:{margin:0}},"Direction")),o.a.createElement("div",{className:n.root},a.map(function(e,t){return o.a.createElement(f.a,{key:t,className:n.button,variant:"contained",color:c===e.Value?"primary":"default",onClick:function(){return l(e.Value)}},e.Text)})))}),w={header:x},R=Object(E.withStyles)(w)(function(e){var t=e.stops,n=void 0===t?[]:t,r=e.classes,a=void 0===r?{}:r,i=e.onStopClicked,c=void 0===i?function(){}:i;return o.a.createElement(f.g,{style:{margin:"20px",textAlign:"center"}},o.a.createElement("h1",{className:a.header},"Stops"),o.a.createElement(f.e,{style:{maxHeight:"500px",overflow:"scroll"}},n.map(function(e,t){return o.a.createElement(f.f,{button:!0,onClick:function(){return c(e)},value:e.Value,key:t},e.Text)})))}),k={header:x,listing:{marginBottom:"10px"},content:{textAlign:"center",padding:"10px"}},j=Object(E.withStyles)(k)(function(e){var t=e.currentStopText,n=void 0===t?"":t,r=e.open,a=void 0!==r&&r,i=e.departures,c=void 0===i?[]:i,s=e.handleClose,l=e.classes,u=void 0===l?{}:l,d=e.currentRouteData,p=void 0===d?{}:d,m=e.currentDirectionData,h=void 0===m?{}:m;return o.a.createElement(f.b,{open:a,fullWidth:!0,onClose:s},o.a.createElement("div",{className:u.header},o.a.createElement("strong",null,"Route:")," ",p.Description,o.a.createElement("br",null),o.a.createElement("strong",null,"Stop:")," ",n,o.a.createElement("br",null),o.a.createElement("strong",null,"Direction:")," ",h.Text),o.a.createElement(f.c,{className:u.content},0===c.length?o.a.createElement("h4",null,"No Departures left today"):c.map(function(e){return o.a.createElement("div",{className:u.listing},o.a.createElement("span",null,e.Description),o.a.createElement("br",null),o.a.createElement("span",null,"Departs At: ",e.DepartureText))})))}),C=n(28),N=n.n(C),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return N.a.get("http://svc.metrotransit.org/NexTrip/".concat(e,"/").concat(t,"/").concat(n))},O=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).onSelectRoute=function(e){n.props.history.push("?r=".concat(e))},n.onSelectDirection=function(e){var t=n.props.history,r=n.state.currentRoute;t.push("?r=".concat(r,"&d=").concat(e))},n.onStopClicked=function(e){var t=e.Value,r=void 0===t?"":t,o=e.Text,a=void 0===o?"":o,i=n.state,c=i.currentRoute,s=i.currentDirection;T(c,s,r).then(function(e){n.setState({departures:e.data,currentStopText:a,showModal:!0})})},n.closeModal=function(){return n.setState({showModal:!1})},n.state={defaultProvider:"8",providers:[],routes:[],directions:[],stops:[],currentProvider:"8",currentRoute:"",currentDirection:"",currentStopText:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.currentProvider;N.a.get("http://svc.metrotransit.org/NexTrip/Providers?format=json").then(function(t){return e.setState({providers:t.data})}),N.a.get("http://svc.metrotransit.org/NexTrip/Routes?format=json").then(function(n){var r=n.data.filter(function(e){return e.ProviderID===t});e.setState({routes:r})})}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=v.a.parse(e.location.search),o=v.a.parse(this.props.location.search);return o.r!==r.r?o.r?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return N.a.get("http://svc.metrotransit.org/NexTrip/Directions/".concat(e,"?format=json"))}(o.r).then(function(e){var t=e.data;n.setState({currentRoute:o.r,directions:t})}):this.setState({currentRoute:"",currentDirection:"",directions:[],stops:[],departures:[],showModal:!1}):o.d!==r.d?o.d?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N.a.get("http://svc.metrotransit.org/NexTrip/Stops/".concat(e,"/").concat(t,"?format=json"))}(o.r,o.d).then(function(e){var t=e.data;n.setState({currentDirection:o.d,stops:t})}):this.setState({currentDirection:"",stops:[]}):void 0}},{key:"render",value:function(){var e=this.props.history,t=void 0===e?{}:e,n=this.state,r=n.routes,a=n.currentRoute,i=n.directions,c=n.currentDirection,s=n.stops,l=n.currentStopText,u=n.showModal,d=n.departures,p=r.find(function(e){return e.Route===a}),m=i.find(function(e){return e.Value===c});return o.a.createElement(f.d,{container:!0},o.a.createElement(f.d,{item:!0,xs:!1,md:1}),o.a.createElement(f.d,{item:!0,xs:12,md:5,"md-offset":1},r.length>0&&o.a.createElement(S,{history:t,routes:r,currentRoute:a,onSelectRoute:this.onSelectRoute}),i.length>0&&o.a.createElement(b,{directions:i,currentDirection:c,onSelectDirection:this.onSelectDirection})),o.a.createElement(f.d,{item:!0,xs:12,md:5},s.length>0&&o.a.createElement(R,{stops:s,onStopClicked:this.onStopClicked})),o.a.createElement(j,{open:u,currentStopText:l,departures:d,handleClose:this.closeModal,currentRouteData:p,currentDirectionData:m}))}}]),t}(o.a.PureComponent);var M=function(){return o.a.createElement(c.a,null,o.a.createElement(s.a,{path:"/",component:O}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[197,1,2]]]);
//# sourceMappingURL=main.b7416e00.chunk.js.map