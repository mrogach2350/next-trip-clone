(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{203:function(e,t,r){e.exports=r(350)},208:function(e,t,r){},350:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(19),c=r.n(o),i=(r(208),r(113)),s=r(24),u=r(49),l=r(25),d=r.n(l),p=r(50),h=r(44),m=r(45),v=r(47),f=r(46),g=r(48),x=r(5),E=r(109),b=r(9),S={backgroundColor:"#3f51b5",color:"white",margin:0,padding:"20px"},y={header:Object(u.a)({},{backgroundColor:"#3f51b5",color:"white",margin:0,padding:"20px",display:"flex",justifyContent:"space-around",alignItems:"center"}),root:{margin:"20px",textAlign:"center"},list:{maxHeight:"70vh",overflow:"scroll"},h1:{margin:0}},k=Object(b.withStyles)(y)(function(e){var t=e.classes,r=void 0===t?{}:t,n=e.routes,o=void 0===n?[]:n,c=e.currentRouteData,i=void 0===c?{}:c,s=e.onSelectRoute,u=void 0===s?function(){}:s,l=e.history,d=void 0===l?{}:l;return a.a.createElement(x.i,{className:r.root},a.a.createElement("div",{className:r.header},a.a.createElement("h1",{className:r.h1},"Routes"),a.a.createElement(x.a,{onClick:function(){return d.push("/")},variant:"contained"},"Reset")),Object(E.isEmpty)(i)?a.a.createElement(x.e,{className:r.list},o.map(function(e,t){return a.a.createElement(x.f,{button:!0,onClick:function(){return u(e.Route)},selected:i.Route===e.Route,key:t},e.Description)})):a.a.createElement("h4",{style:{padding:"15px",margin:0}},i.Description))}),D={header:S,root:{margin:0,padding:"16px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},button:{margin:"10px"},paper:{margin:"20px",textAlign:"center"},h1:{margin:0}},w=Object(b.withStyles)(D)(function(e){var t=e.classes,r=void 0===t?{}:t,n=e.directions,o=void 0===n?[]:n,c=e.currentDirection,i=void 0===c?"":c,s=e.onSelectDirection,u=void 0===s?function(){}:s;e.history,e.currentRoute;return a.a.createElement(x.i,{className:r.paper},a.a.createElement("div",{className:r.header},a.a.createElement("h1",{className:r.h1},"Direction")),a.a.createElement("div",{className:r.root},o.map(function(e,t){return a.a.createElement(x.a,{key:t,className:r.button,variant:"contained",color:i===e.Value?"primary":"default",onClick:function(){return u(e.Value)}},e.Text)})))}),C={header:S,root:{margin:"20px",textAlign:"center"},list:{maxHeight:"60vh",overflow:"scroll"}},j=Object(b.withStyles)(C)(function(e){var t=e.stops,r=void 0===t?[]:t,n=e.classes,o=void 0===n?{}:n,c=e.onStopClicked,i=void 0===c?function(){}:c;return a.a.createElement(x.i,{className:o.root},a.a.createElement("h1",{className:o.header},"Stops"),a.a.createElement(x.e,{className:o.list},r.map(function(e,t){return a.a.createElement(x.f,{button:!0,onClick:function(){return i(e)},value:e.Value,key:t},e.Text)})))}),R={header:S,listing:{marginBottom:"10px"},content:{textAlign:"center",padding:"10px"}},N=Object(b.withStyles)(R)(function(e){var t=e.currentStopText,r=void 0===t?"":t,n=e.open,o=void 0!==n&&n,c=e.departures,i=void 0===c?[]:c,s=e.handleClose,u=e.classes,l=void 0===u?{}:u,d=e.currentRouteData,p=void 0===d?{}:d,h=e.currentDirectionData,m=void 0===h?{}:h;return a.a.createElement(x.b,{open:o,fullWidth:!0,onClose:s},a.a.createElement("div",{className:l.header},a.a.createElement("strong",null,"Route:")," ",p.Description,a.a.createElement("br",null),a.a.createElement("strong",null,"Stop:")," ",r,a.a.createElement("br",null),a.a.createElement("strong",null,"Direction:")," ",m.Text),a.a.createElement(x.c,{className:l.content},0===i.length?a.a.createElement("h4",null,"No Departures left today"):i.map(function(e,t){return a.a.createElement("div",{key:t,className:l.listing},a.a.createElement("span",null,e.Description),a.a.createElement("br",null),e.Actual?a.a.createElement("span",null,"LIVE: Departs in ",e.DepartureText):a.a.createElement("span",null,"Departs At: ",e.DepartureText))})))}),O=function(e){function t(){var e,r;Object(h.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(v.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).state={anchorEl:null},r.handleClick=function(e){r.setState({anchorEl:e.currentTarget})},r.handleClose=function(){r.setState({anchorEl:null})},r.handleSelectAndClose=function(e){var t=r.props.onSelectProvider;(void 0===t?function(){}:t)(e),r.setState({anchorEl:null})},r}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.providers,n=void 0===r?[]:r,o=t.currentProvider,c=void 0===o?"":o,i=t.classes,s=void 0===i?{}:i,u=this.state.anchorEl,l=n.find(function(e){return e.Value===c})||{};return a.a.createElement(x.i,{className:s.root},a.a.createElement("h4",null,"Filter By Provider: "),a.a.createElement(x.a,{"aria-owns":u?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick,className:s.button},l.Text||"All Providers"),a.a.createElement(x.g,{id:"simple-menu",anchorEl:u,open:Boolean(u),onClose:this.handleClose},a.a.createElement(x.h,{onClick:function(){return e.handleSelectAndClose("")}},"All Providers"),n.map(function(t,r){return a.a.createElement(x.h,{key:r,onClick:function(){return e.handleSelectAndClose(t.Value)}},t.Text)})))}}]),t}(a.a.PureComponent),T=Object(b.withStyles)({root:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px"},button:{margin:"20px"}})(O),P=r(111),A=r.n(P),V=r(112),M=r.n(V),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return M.a.parse(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A()(e,function(e){return e.location.search})}(e))},B=r(30),W=r.n(B),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return W.a.get("http://svc.metrotransit.org/NexTrip/Directions/".concat(e,"?format=json"))},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return W.a.get("http://svc.metrotransit.org/NexTrip/Stops/".concat(e,"/").concat(t,"?format=json"))},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return W.a.get("http://svc.metrotransit.org/NexTrip/".concat(e,"/").concat(t,"/").concat(r))},L={providers:[],routes:[],directions:[],stops:[],departures:[],currentProvider:"",currentRoute:"",currentDirection:"",currentStopText:"",showModal:!1},U=function(e){function t(e){var r;return Object(h.a)(this,t),(r=Object(v.a)(this,Object(f.a)(t).call(this,e))).onSelectRoute=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=r.props.history;""!==e&&t.push("?r=".concat(e))},r.onSelectDirection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=r.props.history,n=r.state.currentRoute;""!==e&&t.push("?r=".concat(n,"&d=").concat(e))},r.onStopClicked=function(){var e=Object(p.a)(d.a.mark(function e(t){var n,a,o,c,i,s,u,l,p;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Value,a=void 0===n?"":n,o=t.Text,c=void 0===o?"":o,i=r.state,s=i.currentRoute,u=i.currentDirection,e.next=4,F(s,u,a);case 4:return l=e.sent,p=l.data,e.abrupt("return",r.setState({departures:p,currentStopText:c,showModal:!0}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.closeModal=function(){return r.setState({showModal:!1})},r.onSelectProvider=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.setState({currentProvider:e})},r.state=L,r}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark(function e(){var t,r,n,a,o,c,i,s,u;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=I(this.props),e.next=3,W.a.get("http://svc.metrotransit.org/NexTrip/Providers?format=json");case 3:return r=e.sent,e.next=6,r.data;case 6:return n=e.sent,e.next=9,W.a.get("http://svc.metrotransit.org/NexTrip/Routes?format=json");case 9:return a=e.sent,e.next=12,a.data;case 12:if(o=e.sent,""===t.r){e.next=29;break}return e.next=16,H(t.r);case 16:return c=e.sent,e.next=19,c.data;case 19:if(i=e.sent,""===t.d){e.next=28;break}return e.next=23,J(t.r,t.d);case 23:return s=e.sent,e.next=26,s.data;case 26:return u=e.sent,e.abrupt("return",this.setState({currentRoute:t.r,currentDirection:t.d,providers:n,directions:i,routes:o,stops:u}));case 28:return e.abrupt("return",this.setState({currentRoute:t.r,directions:i,routes:o,providers:n}));case 29:return e.abrupt("return",this.setState({routes:o,providers:n}));case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(d.a.mark(function e(t,r){var n,a,o,c,i,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=I(t),(a=I(this.props)).r===n.r){e.next=12;break}if(a.r){e.next=5;break}return e.abrupt("return",this.setState(function(e){return Object(u.a)({},L,{providers:e.providers,routes:e.routes})}));case 5:return e.next=7,H(a.r);case 7:return o=e.sent,e.next=10,o.data;case 10:return c=e.sent,e.abrupt("return",this.setState({currentRoute:a.r,directions:c}));case 12:if(a.d===n.d){e.next=22;break}if(a.d){e.next=15;break}return e.abrupt("return",this.setState({currentDirection:"",stops:[]}));case 15:return e.next=17,J(a.r,a.d);case 17:return i=e.sent,e.next=20,i.data;case 20:return s=e.sent,e.abrupt("return",this.setState({currentDirection:a.d,stops:s}));case 22:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.history,t=void 0===e?{}:e,r=this.state,n=r.providers,o=r.routes,c=void 0===o?[]:o,i=r.directions,s=r.stops,u=r.departures,l=r.currentProvider,d=r.currentRoute,p=r.currentDirection,h=r.currentStopText,m=r.showModal,v=""===l?c:c.filter(function(e){return e.ProviderID===l}),f=c.find(function(e){return e.Route===d}),g=i.find(function(e){return e.Value===p});return a.a.createElement(x.d,{container:!0},a.a.createElement(x.d,{item:!0,xs:!1,md:1}),a.a.createElement(x.d,{item:!0,xs:12,md:5,"md-offset":1},n.length>0&&a.a.createElement(T,{currentProvider:l,providers:n,onSelectProvider:this.onSelectProvider}),c.length>0&&a.a.createElement(k,{history:t,routes:v,currentRouteData:f,onSelectRoute:this.onSelectRoute}),i.length>0&&a.a.createElement(w,{directions:i,currentDirection:p,onSelectDirection:this.onSelectDirection})),a.a.createElement(x.d,{item:!0,xs:12,md:5},s.length>0&&a.a.createElement(j,{stops:s,onStopClicked:this.onStopClicked})),a.a.createElement(N,{open:m,currentStopText:h,departures:u,handleClose:this.closeModal,currentRouteData:f,currentDirectionData:g}))}}]),t}(a.a.PureComponent);var $=function(){return a.a.createElement(i.a,null,a.a.createElement(s.a,{path:"/",component:U}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[203,1,2]]]);
//# sourceMappingURL=main.4319897b.chunk.js.map