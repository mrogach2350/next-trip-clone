(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{200:function(e,t,n){e.exports=n(345)},205:function(e,t,n){},345:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(19),i=n.n(a),c=(n(205),n(110)),l=n(24),s=n(48),u=n(43),d=n(44),p=n(46),m=n(45),h=n(47),v=n(5),f=n(9),g={backgroundColor:"#3f51b5",color:"white",margin:0,padding:"20px"},E={header:Object(s.a)({},{backgroundColor:"#3f51b5",color:"white",margin:0,padding:"20px",display:"flex",justifyContent:"space-around",alignItems:"center"}),root:{margin:"20px",textAlign:"center"},list:{maxHeight:"500px",overflow:"scroll"},h1:{margin:0}},x=Object(f.withStyles)(E)(function(e){var t=e.classes,n=void 0===t?{}:t,r=e.routes,a=void 0===r?[]:r,i=e.currentRoute,c=void 0===i?"":i,l=e.onSelectRoute,s=void 0===l?function(){}:l,u=e.history,d=void 0===u?{}:u,p=a.find(function(e){return e.Route===c});return o.a.createElement(v.i,{className:n.root},o.a.createElement("div",{className:n.header},o.a.createElement("h1",{className:n.h1},"Routes"),o.a.createElement(v.a,{onClick:function(){return d.push("/")},variant:"contained"},"Reset")),""===c?o.a.createElement(v.e,{className:n.list},a.map(function(e,t){return o.a.createElement(v.f,{button:!0,onClick:function(){return s(e.Route)},selected:c===e.Route,key:t},e.Description)})):o.a.createElement("h4",{style:{padding:"15px",margin:0}},p.Description))}),S={header:g,root:{margin:0,padding:"16px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},button:{margin:"10px"},paper:{margin:"20px",textAlign:"center"},h1:{margin:0}},y=Object(f.withStyles)(S)(function(e){var t=e.classes,n=void 0===t?{}:t,r=e.directions,a=void 0===r?[]:r,i=e.currentDirection,c=void 0===i?"":i,l=e.onSelectDirection,s=void 0===l?function(){}:l;e.history,e.currentRoute;return o.a.createElement(v.i,{className:n.paper},o.a.createElement("div",{className:n.header},o.a.createElement("h1",{className:n.h1},"Direction")),o.a.createElement("div",{className:n.root},a.map(function(e,t){return o.a.createElement(v.a,{key:t,className:n.button,variant:"contained",color:c===e.Value?"primary":"default",onClick:function(){return s(e.Value)}},e.Text)})))}),b={header:g},D=Object(f.withStyles)(b)(function(e){var t=e.stops,n=void 0===t?[]:t,r=e.classes,a=void 0===r?{}:r,i=e.onStopClicked,c=void 0===i?function(){}:i;return o.a.createElement(v.i,{style:{margin:"20px",textAlign:"center"}},o.a.createElement("h1",{className:a.header},"Stops"),o.a.createElement(v.e,{style:{maxHeight:"500px",overflow:"scroll"}},n.map(function(e,t){return o.a.createElement(v.f,{button:!0,onClick:function(){return c(e)},value:e.Value,key:t},e.Text)})))}),C={header:g,listing:{marginBottom:"10px"},content:{textAlign:"center",padding:"10px"}},w=Object(f.withStyles)(C)(function(e){var t=e.currentStopText,n=void 0===t?"":t,r=e.open,a=void 0!==r&&r,i=e.departures,c=void 0===i?[]:i,l=e.handleClose,s=e.classes,u=void 0===s?{}:s,d=e.currentRouteData,p=void 0===d?{}:d,m=e.currentDirectionData,h=void 0===m?{}:m;return o.a.createElement(v.b,{open:a,fullWidth:!0,onClose:l},o.a.createElement("div",{className:u.header},o.a.createElement("strong",null,"Route:")," ",p.Description,o.a.createElement("br",null),o.a.createElement("strong",null,"Stop:")," ",n,o.a.createElement("br",null),o.a.createElement("strong",null,"Direction:")," ",h.Text),o.a.createElement(v.c,{className:u.content},0===c.length?o.a.createElement("h4",null,"No Departures left today"):c.map(function(e){return o.a.createElement("div",{className:u.listing},o.a.createElement("span",null,e.Description),o.a.createElement("br",null),e.Actual?o.a.createElement("span",null,"LIVE: Departs in ",e.DepartureText):o.a.createElement("span",null,"Departs At: ",e.DepartureText))})))}),k=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={anchorEl:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.handleSelectAndClose=function(e){var t=n.props.onSelectProvider;(void 0===t?function(){}:t)(e),n.setState({anchorEl:null})},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.providers,r=void 0===n?[]:n,a=t.currentProvider,i=void 0===a?"":a,c=t.classes,l=void 0===c?{}:c,s=this.state.anchorEl,u=r.find(function(e){return e.Value===i})||{};return o.a.createElement(v.i,{className:l.root},o.a.createElement("h4",null,"Filter By Provider: "),o.a.createElement(v.a,{"aria-owns":s?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick,className:l.button},u.Text||"All Providers"),o.a.createElement(v.g,{id:"simple-menu",anchorEl:s,open:Boolean(s),onClose:this.handleClose},o.a.createElement(v.h,{onClick:function(){return e.handleSelectAndClose("")}},"All Providers"),r.map(function(t){return o.a.createElement(v.h,{onClick:function(){return e.handleSelectAndClose(t.Value)}},t.Text)})))}}]),t}(o.a.PureComponent),j=Object(f.withStyles)({root:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px"},button:{margin:"20px"}})(k),R=n(108),N=n.n(R),T=n(109),O=n.n(T),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O.a.parse(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N()(e,function(e){return e.location.search})}(e))},A=n(28),V=n.n(A),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return V.a.get("http://svc.metrotransit.org/NexTrip/".concat(e,"/").concat(t,"/").concat(n))},I={providers:[],routes:[],directions:[],stops:[],departures:[],currentProvider:"",currentRoute:"",currentDirection:"",currentStopText:"",showModal:!1},B=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).onSelectRoute=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=n.props.history;""!==e&&t.push("?r=".concat(e))},n.onSelectDirection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=n.props.history,r=n.state.currentRoute;""!==e&&t.push("?r=".concat(r,"&d=").concat(e))},n.onStopClicked=function(e){var t=e.Value,r=void 0===t?"":t,o=e.Text,a=void 0===o?"":o,i=n.state,c=i.currentRoute,l=i.currentDirection;M(c,l,r).then(function(e){n.setState({departures:e.data,currentStopText:a,showModal:!0})})},n.closeModal=function(){return n.setState({showModal:!1})},n.onSelectProvider=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.setState({currentProvider:e})},n.state=I,n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.a.get("http://svc.metrotransit.org/NexTrip/Providers?format=json").then(function(t){return e.setState({providers:t.data})}),V.a.get("http://svc.metrotransit.org/NexTrip/Routes?format=json").then(function(t){return e.setState({routes:t.data})})}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=P(e),o=P(this.props);return o.r!==r.r?o.r?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return V.a.get("http://svc.metrotransit.org/NexTrip/Directions/".concat(e,"?format=json"))}(o.r).then(function(e){var t=e.data;n.setState({currentRoute:o.r,directions:t})}):this.setState(function(e){return Object(s.a)({},I,{providers:e.providers,routes:e.routes})}):o.d!==r.d?o.d?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return V.a.get("http://svc.metrotransit.org/NexTrip/Stops/".concat(e,"/").concat(t,"?format=json"))}(o.r,o.d).then(function(e){var t=e.data;n.setState({currentDirection:o.d,stops:t})}):this.setState({currentDirection:"",stops:[]}):void 0}},{key:"render",value:function(){var e=this.props.history,t=void 0===e?{}:e,n=this.state,r=n.providers,a=n.routes,i=n.directions,c=n.stops,l=n.departures,s=n.currentProvider,u=n.currentRoute,d=n.currentDirection,p=n.currentStopText,m=n.showModal,h=""===s?a:a.filter(function(e){return e.ProviderID===s}),f=a.find(function(e){return e.Route===u}),g=i.find(function(e){return e.Value===d});return o.a.createElement(v.d,{container:!0},o.a.createElement(v.d,{item:!0,xs:!1,md:1}),o.a.createElement(v.d,{item:!0,xs:12,md:5,"md-offset":1},r.length>0&&o.a.createElement(j,{currentProvider:s,providers:r,onSelectProvider:this.onSelectProvider}),a.length>0&&o.a.createElement(x,{history:t,routes:h,currentRoute:u,onSelectRoute:this.onSelectRoute}),i.length>0&&o.a.createElement(y,{directions:i,currentDirection:d,onSelectDirection:this.onSelectDirection})),o.a.createElement(v.d,{item:!0,xs:12,md:5},c.length>0&&o.a.createElement(D,{stops:c,onStopClicked:this.onStopClicked})),o.a.createElement(w,{open:m,currentStopText:p,departures:l,handleClose:this.closeModal,currentRouteData:f,currentDirectionData:g}))}}]),t}(o.a.PureComponent);var W=function(){return o.a.createElement(c.a,null,o.a.createElement(l.a,{path:"/",component:B}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[200,1,2]]]);
//# sourceMappingURL=main.3d27d45c.chunk.js.map